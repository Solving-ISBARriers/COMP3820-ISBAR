[{"/Users/myoungseokjeong/Desktop/COMP3820-ISBAR/isbar-complex-react/src/index.js":"1","/Users/myoungseokjeong/Desktop/COMP3820-ISBAR/isbar-complex-react/src/App.js":"2","/Users/myoungseokjeong/Desktop/COMP3820-ISBAR/isbar-complex-react/src/Launcher.js":"3","/Users/myoungseokjeong/Desktop/COMP3820-ISBAR/isbar-complex-react/src/Home.js":"4","/Users/myoungseokjeong/Desktop/COMP3820-ISBAR/isbar-complex-react/src/IsbarFhirClient.js":"5","/Users/myoungseokjeong/Desktop/COMP3820-ISBAR/isbar-complex-react/src/app-complex/IsbarComplexApp.js":"6","/Users/myoungseokjeong/Desktop/COMP3820-ISBAR/isbar-complex-react/src/app-complex/IsbarComplexDevelopment.js":"7","/Users/myoungseokjeong/Desktop/COMP3820-ISBAR/isbar-complex-react/src/app-simple/IsbarSimpleApp.js":"8","/Users/myoungseokjeong/Desktop/COMP3820-ISBAR/isbar-complex-react/src/app-complex/Background.js":"9","/Users/myoungseokjeong/Desktop/COMP3820-ISBAR/isbar-complex-react/src/app-complex/Assessment.js":"10","/Users/myoungseokjeong/Desktop/COMP3820-ISBAR/isbar-complex-react/src/app-complex/Introduction.js":"11","/Users/myoungseokjeong/Desktop/COMP3820-ISBAR/isbar-complex-react/src/app-complex/IsbarContentField.js":"12","/Users/myoungseokjeong/Desktop/COMP3820-ISBAR/isbar-complex-react/src/app-complex/Recommendation.js":"13","/Users/myoungseokjeong/Desktop/COMP3820-ISBAR/isbar-complex-react/src/app-complex/Situation.js":"14","/Users/myoungseokjeong/Desktop/COMP3820-ISBAR/isbar-complex-react/src/app-simple/QuestionnaireTemplates.js":"15","/Users/myoungseokjeong/Desktop/COMP3820-ISBAR/isbar-complex-react/src/app-complex/Patient.js":"16","/Users/myoungseokjeong/Desktop/COMP3820-ISBAR/isbar-complex-react/src/app-simple/SimplePDF.js":"17","/Users/myoungseokjeong/Desktop/COMP3820-ISBAR/isbar-complex-react/src/SimpleHistory.js":"18","/Users/myoungseokjeong/Desktop/COMP3820-ISBAR/isbar-complex-react/src/common/DisplayHelper.js":"19"},{"size":213,"mtime":1634261073530,"results":"20","hashOfConfig":"21"},{"size":1063,"mtime":1635468637949,"results":"22","hashOfConfig":"21"},{"size":1103,"mtime":1635468637951,"results":"23","hashOfConfig":"21"},{"size":7784,"mtime":1635514777409,"results":"24","hashOfConfig":"21"},{"size":2389,"mtime":1635468637950,"results":"25","hashOfConfig":"21"},{"size":1007,"mtime":1635468637954,"results":"26","hashOfConfig":"21"},{"size":2318,"mtime":1635468637954,"results":"27","hashOfConfig":"21"},{"size":7641,"mtime":1635514020447,"results":"28","hashOfConfig":"21"},{"size":212,"mtime":1634604734929,"results":"29","hashOfConfig":"21"},{"size":212,"mtime":1635468637952,"results":"30","hashOfConfig":"21"},{"size":227,"mtime":1635468637953,"results":"31","hashOfConfig":"21"},{"size":833,"mtime":1635468637955,"results":"32","hashOfConfig":"21"},{"size":467,"mtime":1635468637958,"results":"33","hashOfConfig":"21"},{"size":6367,"mtime":1635468637959,"results":"34","hashOfConfig":"21"},{"size":2782,"mtime":1635486094281,"results":"35","hashOfConfig":"21"},{"size":1651,"mtime":1635468637956,"results":"36","hashOfConfig":"21"},{"size":2157,"mtime":1635468637961,"results":"37","hashOfConfig":"21"},{"size":4148,"mtime":1635514572305,"results":"38","hashOfConfig":"21"},{"size":637,"mtime":1635514350771,"results":"39","hashOfConfig":"21"},{"filePath":"40","messages":"41","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"42"},"numc36",{"filePath":"43","messages":"44","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"42"},{"filePath":"45","messages":"46","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"42"},{"filePath":"47","messages":"48","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"49"},{"filePath":"50","messages":"51","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"52","usedDeprecatedRules":"42"},{"filePath":"53","messages":"54","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"42"},{"filePath":"55","messages":"56","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"57","usedDeprecatedRules":"42"},{"filePath":"58","messages":"59","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"60"},{"filePath":"61","messages":"62","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"63","usedDeprecatedRules":"42"},{"filePath":"64","messages":"65","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"66","usedDeprecatedRules":"42"},{"filePath":"67","messages":"68","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"69","usedDeprecatedRules":"42"},{"filePath":"70","messages":"71","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"72","usedDeprecatedRules":"42"},{"filePath":"73","messages":"74","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"75","usedDeprecatedRules":"42"},{"filePath":"76","messages":"77","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"78","usedDeprecatedRules":"42"},{"filePath":"79","messages":"80","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"81"},{"filePath":"82","messages":"83","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"42"},{"filePath":"84","messages":"85","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"86","usedDeprecatedRules":"42"},{"filePath":"87","messages":"88","errorCount":0,"fatalErrorCount":0,"warningCount":8,"fixableErrorCount":0,"fixableWarningCount":0,"source":"89"},{"filePath":"90","messages":"91","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"/Users/myoungseokjeong/Desktop/COMP3820-ISBAR/isbar-complex-react/src/index.js",[],["92","93"],"/Users/myoungseokjeong/Desktop/COMP3820-ISBAR/isbar-complex-react/src/App.js",[],"/Users/myoungseokjeong/Desktop/COMP3820-ISBAR/isbar-complex-react/src/Launcher.js",[],"/Users/myoungseokjeong/Desktop/COMP3820-ISBAR/isbar-complex-react/src/Home.js",["94","95"],"// Main class for the main screen. Contains everything.\nimport React from \"react\";\nimport { IsbarClientProvider } from \"./IsbarFhirClient\";\nimport { IsbarSimpleApp } from \"./app-simple/IsbarSimpleApp\";\nimport { IsbarComplexApp } from \"./app-complex/IsbarComplexApp\";\nimport { IsbarComplexDevelopment } from \"./app-complex/IsbarComplexDevelopment\";\nimport { IsbarClientContext } from \"./IsbarFhirClient\";\nimport { Stack, Box, Container, Accordion, AccordionSummary, Typography, Button, AccordionDetails } from '@mui/material'\nimport ExpandMoreIcon from '@mui/icons-material/ExpandMore';\nimport { SimpleHistory } from \"./SimpleHistory\";\n\nexport default class Home extends React.Component {\n\n    render() {\n        return (\n            <IsbarClientProvider>\n                <AppController />\n            </IsbarClientProvider>\n        )\n    }\n}\n\n// this component loads and displays the questionnaireResponse\nclass AppController extends React.Component {\n\n    // include client \n    static contextType = IsbarClientContext;\n    constructor(props) {\n        super(props)\n        this.state = {\n            loaded: false,\n            isMenu: true,\n            isSimple: true,\n            questionnaireID: null,\n            simpleResponses: null,\n            createNew: false,\n\n        }\n    }\n    componentDidMount() {\n\n        // Load questionnaire and simple isbar forms for this patient\n        const loadSimple = this.loadQuestionnaireID()\n            // .then(() => this.createSimpleIsbar())\n            .then((res) => this.loadSimpleIsbars(res))\n            .then(() => this.setState({ loaded: true }))\n        this.context.client.request(\"Practitioner/e443ac58-8ece-4385-8d55-775c1b8f3a37\").then(console.log)\n        // wait till all promises resolved\n        Promise.all([loadSimple]).then(() => console.log(\"all loaded\"))\n    }\n\n    backToMenu() {\n\n        // change the statte to come back to menu\n        this.setState({ isMenu: true })\n    }\n\n    // Returns a promise that loads questionnaire ID using questionnaire template\n    // updates the state for questionnaire id\n    // the promise resolves to questionnaire id\n    loadQuestionnaireID() {\n\n        // make server calls \n        return this.context.client.request(\"Questionnaire?name=\" + isbarQuestionnaire.name)\n            .then((response) => {\n\n                if (response.total === 0) {\n                    // there are no questionnaire object - create one\n                    return this.context.client.create(isbarQuestionnaire);\n                } else {\n                    // return the existing questionnaire to be saved\n                    return response.entry[0].resource;\n                }\n            }).then((result) => {\n                // console.log(result.id)\n                // save the questionnaire ID in current component state\n                this.setState({ questionnaireID: result.id })\n                // return the questionnaire id. This allows response searching without\n                // having to wait for setState to be executed\n                return result.id\n            }).catch(console.error)\n    }\n\n    // Returns a promise for loading simple isbar forms given questionnaire id.\n    // The promise resolves to the bundle returned from the server\n    loadSimpleIsbars(questionnaireID) {\n\n        return this.context.client.request(\n            // currently, retrieves all responses about this patient\n            \"QuestionnaireResponse?questionnaire=\" + questionnaireID\n            + \"&patient=Patient/\" + this.context.client.patient.id,\n            // resolves references connected to questionnaire\n            { resolveReferences: [\"author\", \"extension[1].valueReference\"] }\n        ).then((result) => {\n            // console.log(result)\n            // console.log(questionnaireID)\n            this.setState({ simpleResponses: result })\n            // console.log(result)\n            return result\n        }).catch(console.error)\n    }\n\n    // What a mess! requires cleaning..\n    render() {\n\n        if (this.state.loaded && this.state.isMenu) {\n            return (\n                <div>\n                    <Box sx={{\n                        padding: '3%'\n                    }}>\n                        {/* Heading needs fixing */}\n                        <Typography sx={{\n                            width: '100%',\n                            textAlign: 'center',\n                            fontSize: '30px'\n                        }}>\n                            ISBAR Handover Form\n                        </Typography>\n\n                        {/* Stack requires positioning */}\n                        <Stack spacing={2}\n                            sx={{\n\n                            }}\n                        >\n                            <Accordion defaultExpanded={true}>\n                                <AccordionSummary\n                                    expandIcon={<ExpandMoreIcon />}\n                                    aria-controls=\"panel1bh-content\"\n                                    id=\"panel1bh-header\"\n                                >\n                                    <Typography sx={{ width: '70%', flexShrink: 0 }}>\n                                        Simple ISBAR handover forms\n                                    </Typography>\n                                    <Button\n                                        onClick={() => this.setState({ createNew: true, isMenu: false, isSimple: true })}\n                                    >\n                                        Create new\n                                    </Button>\n                                </AccordionSummary>\n                                <AccordionDetails>\n                                    <SimpleHistory data={this.state.simpleResponses} />\n                                </AccordionDetails>\n                            </Accordion>\n                        </Stack>\n                    </Box>\n\n                    <button className=\"main-menu-button\" onClick={() => this.setState({ isSimple: false, isMenu: false })}>\n                        Complex ISBAR\n                    </button>\n                </div>\n            )\n        } else if (this.state.loaded && this.state.isSimple) {\n\n            return (\n                <IsbarSimpleApp\n                    goBack={this.backToMenu.bind(this)}\n                    content={\"content\"} // this is the response object passed.\n                    create={this.state.createNew}\n                    questionnaireID={this.state.questionnaireID}\n                />\n            )\n        } else if (this.state.loaded && this.state.isSimple) {\n            return (\n                // <IsbarComplexDevelopment />\n                <IsbarComplexApp />\n            )\n        } else {\n            return (<div>Loading</div>)\n\n        }\n    }\n}\n\n\n\nconst isbarQuestionnaire = {\n    \"resourceType\": \"Questionnaire\",\n    \"title\": \"questionnaireTitle\",\n    \"name\": \"isbar-simple\",\n    \"status\": \"active\",\n    // Introduction\n    \"item\": [{\n        \"linkid\": \"1\",\n        \"text\": \"I:Identify\",\n        \"type\": \"text\" // free text\n    },\n    // Situation\n    {\n        \"linkid\": \"2\",\n        \"text\": \"S:Situation\",\n        \"type\": \"text\" // free text\n    },\n    // Observation. Enable option is not included, because it could be handled by js.\n    {\n        \"linkid\": \"3\",\n        \"text\": \"O:Observation\",\n        \"type\": \"text\" // free text\n    },\n    // Background\n    {\n        \"linkid\": \"4\",\n        \"text\": \"B:Background\",\n        \"type\": \"text\" // free text\n    },\n    // assessment\n    {\n        \"linkid\": \"5\",\n        \"text\": \"A:Assessment\",\n        \"type\": \"text\" // free text\n    },\n    // Recommendation\n    {\n        \"linkid\": \"6\",\n        \"text\": \"R:Recommendation\",\n        \"type\": \"text\" // free text\n    }]\n}\n\n\n\n","/Users/myoungseokjeong/Desktop/COMP3820-ISBAR/isbar-complex-react/src/IsbarFhirClient.js",["96"],"// This is the file to deal with fhir client\n// Client context is created and updated.\n\nimport React from \"react\";\nimport { client, oauth2 as SMART } from \"fhirclient\";\n\n// React client context so it is accessible in differernt parts of code.\n// by exporting, it should be accessible from various part of the code.\nexport const IsbarClientContext = React.createContext({});\n\nexport class IsbarClientProvider extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            \n            client: null, // client object\n            error: null, // error message\n            simpleForms: null, // simple isbar forms (questionnaireResponses)\n            complexForms: null // complex isbar forms ()\n        }\n    }\n\n    componentDidMount() {\n        // Wait until the SMART client is ready, then save the client object as its state.\n        SMART.ready().then(\n            (client) => this.setState({ client }),\n            (error) => this.setState({ error })\n        )\n        // Load the relevant resources\n    }\n\n    render() {\n\n        return (\n            // When the client is not loaded, it displays authorizing message.\n            // Once the client is loaded, display the child components.\n            <IsbarClientContext.Provider value={this.state || {}}>\n                <IsbarClientContext.Consumer>\n                    {({ client, error }) => {\n                        console.log(\"Client\");\n                        console.log(client);\n                        // any error that SMART.ready() may have been rejected with\n                        if (error) {\n                            return <pre>{error.stack}</pre>;\n                        }\n\n                        // if client is already available render the subtree (patient and input in this case.)\n                        if (client) {\n\n                            return this.props.children;\n                        }\n                        // client is undefined until SMART.ready() is fulfilled. show loading message\n                        return (\n                            <div className=\"loading-container\">\n                                Launching the ISBAR handover form..\n                            </div>\n                        )\n                    }}\n                </IsbarClientContext.Consumer>\n            </IsbarClientContext.Provider>\n        );\n    }\n}","/Users/myoungseokjeong/Desktop/COMP3820-ISBAR/isbar-complex-react/src/app-complex/IsbarComplexApp.js",[],"/Users/myoungseokjeong/Desktop/COMP3820-ISBAR/isbar-complex-react/src/app-complex/IsbarComplexDevelopment.js",["97","98"],"import React from \"react\";\nimport { IsbarContentField } from \"./IsbarContentField\";\nimport { IsbarClientContext } from \"../IsbarFhirClient\";\nimport { client } from \"fhirclient\";\n\nexport class IsbarComplexDevelopment extends React.Component {\n    \n    // client context\n    static contextType = IsbarClientContext;\n\n    constructor(props) {\n        super(props)\n        \n        this.state = {\n            // state for the app display\n            current: \"I\",\n            loaded: false,\n            carePlan: null\n            // initialise careplan resource?\n        }\n    }\n\n    componentDidMount(){\n        \n        const client = this.context.client;\n        // search for the careplan related to this patient\n        this.LoadCarePlan()\n        .then((res) => {\n            console.log(res)\n            this.setState({loaded: true})\n        })\n        // load the careplan\n    }\n\n    LoadCarePlan(){\n        return this.context.client.request(\"CarePlan?patient=\" + this.context.client.patient.id)\n        .then( res => {\n            // filter careplan\n\n        })\n    }\n\n    render() {\n        if(this.state.loaded){\n\n            return (\n            \n                <div className=\"app-complex\">\n                    <div className=\"app-content\">\n                        <IsbarContentField current={this.state.current} />\n                    </div>\n    \n                    <div className=\"footer\">\n                        <div className=\"arrow\">&larr;</div>\n                        <button className=\"nav-button\" onClick={() => this.setState({ current: \"I\" })}>I</button>\n                        <button className=\"nav-button\" onClick={() => this.setState({ current: \"S\" })}>S</button>\n                        <button className=\"nav-button\" onClick={() => this.setState({ current: \"B\" })}>B</button>\n                        <button className=\"nav-button\" onClick={() => this.setState({ current: \"A\" })}>A</button>\n                        <button className=\"nav-button\" onClick={() => this.setState({ current: \"R\" })}>R</button>\n                        <div className=\"arrow\">&rarr;</div>\n                    </div>\n    \n                </div>\n                \n            )\n        } else{\n            return(\n            <div>\n                Loading complex isbar form...\n            </div>)\n        }\n    }\n}\n","/Users/myoungseokjeong/Desktop/COMP3820-ISBAR/isbar-complex-react/src/app-simple/IsbarSimpleApp.js",["99","100"],"import React from \"react\";\n// import TextInputField from \"./TextInputField\";\nimport { IsbarClientContext } from \"../IsbarFhirClient\";\n// import { isbarQuestionnaire, newQuestionnaireResponse } from \"./QuestionnaireTemplates\";\nimport { SimplePDF } from \"./SimplePDF\";\nimport { PDFDownloadLink } from \"@react-pdf/renderer\";\nimport TextField from '@mui/material/TextField'\nimport { client } from \"fhirclient\";\n\n\n// Class for the input field group.\nexport class IsbarSimpleApp extends React.Component {\n\n  // the this.context.client is the client object!!!\n  static contextType = IsbarClientContext;\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      \n      loaded: false,\n      // questionnaire response object\n      content: null,\n      // turns true if it's isobar\n      isIsobar: false,\n      // indicates saved state\n      saved: false,\n    };\n\n    this.updateResponse = this.updateResponse.bind(this)\n  }\n\n  componentDidMount() {\n    console.log(this.props.create)\n    if(this.props.create){\n      // create new resource and store that \n      this.createSimpleIsbar().then(console.log).catch(console.error)\n    } else{\n      // note we are not directly modifying the file in parent.\n      // parent will fetch the updated version via database query\n      this.setState({content: this.props.content})\n    }\n    this.context.client.user.read().then(console.log)\n    \n  }\n\n  // // check if the given resource is QuestionnaireResponse for isbar\n  // // still need some check to see if it is actually for isbar\n  // checkExistingResponse(resource) {\n  //   if (\n  //     resource.source.reference ===\n  //     \"Patient/\" + this.context.client.patient.id &&\n  //     resource.questionnaire === \"Questionnaire/\" + this.state.questionnaire.id\n  //   ) {\n  //     return true;\n  //   }\n  //   return false;\n  // }\n\n  // function to send update request\n  updateResponse() {\n    console.log(\n      \"Updated response: \" + JSON.stringify(this.state.content)\n    );\n    this.context.client\n      .update(this.state.content)\n      .then((response) => {\n        console.log(response);\n        this.setState({ saved: \"saved\" })\n      })\n      .catch(console.error);\n  }\n\n\n  // this is the function for changing value\n  // changes answer string in the questionnaireresponse object with given index\n  // updates questionnaireresponse state\n  // TODO: make it smooth\n  updateResponse(event, index) {\n    var response = this.state.content;\n\n    if (response.item[index].hasOwnProperty(\"answer\")) {\n      response.item[index].answer[0].valueString = event.target.value;\n    } else {\n      response.item[index].answer = [\n        {\n          valueString: event.target.value,\n        },\n      ];\n    }\n    this.setState({ content: response });\n    // change the saved state\n    if (this.state.saved === \"saved\") {\n      this.setState({ saved: \"edited\" })\n    }\n  }\n  \n  getFieldValue(index){\n    return this.state.content.item[index].hasOwnProperty('answer')\n    ? this.state.content.item[index].answer[0].valueString\n    : \"\"\n  }\n\n  createSimpleIsbar(){\n    return this.context.client.create(newQuestionnaireResponse(\n      this.props.questionnaireID,\n      this.context.client.patient.id,\n      this.context.client.user.id\n    )).catch(console.error)\n  }\n\n  // Load the text fields after the questionnaire and questionnaire responses are loaded.\n  render() {\n    // questionnaire response object\n\n    if (this.state.loaded) {\n      return (\n\n        <div className=\"container\">\n          <div id=\"simple-header\">\n            <button id=\"go-back-button\" onClick={this.props.goBack}> Back to Menu </button>\n            <h1>ISBAR</h1>\n            <div id=\"simple-header-content\">\n              <p className=\"simple-state\">\n                State:\n                {this.state.saved}\n              </p>\n              <label className=\"simple-toggle\">\n                Is ISOBAR:\n                <input\n                  name=\"isISOBAR\"\n                  type=\"checkbox\"\n                  checked={this.state.isIsobar}\n                  onChange={() => this.setState(prevState => ({ isIsobar: !prevState.isIsobar }))}\n                />\n              </label>\n\n            </div>\n          </div>\n\n          <TextField fullWidth multiline\n          placeholder=\"Introduction\"\n          value={this.getFieldValue(0)}\n          onChange={(e) => this.updateResponse(e, 0)}\n          />\n          <TextField fullWidth multiline\n          placeholder=\"Situation\"\n          value={this.getFieldValue(1)}\n          onChange={(e) => this.updateResponse(e, 1)}\n          />\n          <TextField fullWidth multiline\n          placeholder=\"Observation\"\n          value={this.getFieldValue(2)}\n          onChange={(e) => this.updateResponse(e, 2)}\n          />\n          <TextField fullWidth multiline\n          placeholder=\"Background\"\n          value={this.getFieldValue(3)}\n          onChange={(e) => this.updateResponse(e, 3)}\n          />\n          <TextField fullWidth multiline\n          placeholder=\"Assessment\"\n          value={this.getFieldValue(4)}\n          onChange={(e) => this.updateResponse(e, 4)}\n          />\n          <TextField fullWidth multiline\n          placeholder=\"Recommendation\"\n          value={this.getFieldValue(5)}\n          onChange={(e) => this.updateResponse(e, 5)}\n          />\n          \n          <button\n            className=\"isbar-save\"\n            onClick={() => this.updateResponse()}\n          >\n            Save\n          </button>\n\n          <button className=\"isbar-save\">\n            <PDFDownloadLink\n              document={\n                <SimplePDF content={this.state.content} />\n              }\n              fileName=\"isbar.pdf\"\n            >\n              {({ blob, url, loading, error }) =>\n                loading ? \"Preparing\" : \"Print\"\n              }\n            </PDFDownloadLink>\n          </button>\n        </div>\n\n      )\n    } else {\n      return (\n\n        <div className=\"loading-container\">\n          Loading simple ISBAR form...\n        </div>\n      )\n    }\n  }\n}\n\n// function that returns a new response\n// sourceID: ID of practitioner writing this form\n// targetID: ID of practitioner receiving this form\nfunction newQuestionnaireResponse(questionnaireID, patientID, sourceID) {\n  // questionnaire response resource\n  //const date = new Date()\n  // const lastModified = new Date().toJSON()\n  // console.log(lastModified)\n  \n  var qResponse = {\n    resourceType: \"QuestionnaireResponse\",\n    text: { name: \"isbar handover form\" },\n    // maybe later when we sort out the thingy\n    // Reference the questionnaire\n    // date this form was last modified\n    // authored: lastModified,\n    questionnaire: \"Questionnaire/\" + questionnaireID,\n    status: \"in-progress\",\n    subject: {\n      reference: \"Patient/\" + patientID\n    },\n    author: {\n      // refer to current practitioner\n      reference: \"Practitioner/\" + sourceID,\n    },\n    // extension not used because resolving reference requires extra effort. \n    // Instead, author section is used.\n    extension: [{\n      url:\"http://hl7.org/fhir/StructureDefinition/questionnaireresponse-reviewer\",\n      valueReference:{\n        reference: \"Practitioner/\" + sourceID\n      }\n    }],\n    item: [\n      {\n        linkId: \"1\",\n        text: \"I:Identify\",\n      },\n      {\n        linkId: \"2\",\n        text: \"S:Situation\",\n      },\n      {\n        linkId: \"3\",\n        text: \"O:Observation\",\n      },\n      {\n        linkId: \"4\",\n        text: \"B:Background\",\n      },\n      {\n        linkId: \"5\",\n        text: \"A:Assessment\",\n      },\n      {\n        linkId: \"6\",\n        text: \"R:Recommendation\",\n      },\n    ],\n  };\n\n  return qResponse;\n}","/Users/myoungseokjeong/Desktop/COMP3820-ISBAR/isbar-complex-react/src/app-complex/Background.js",["101"],"import React from \"react\";\n\nexport class Background extends React.Component {\n\n    constructor(props){\n        super(props)\n    }\n    render(){\n        return(\n            <div>Background</div>\n        )\n    }\n}\n","/Users/myoungseokjeong/Desktop/COMP3820-ISBAR/isbar-complex-react/src/app-complex/Assessment.js",["102"],"import React from \"react\";\n\nexport class Assessment extends React.Component {\n\n    constructor(props){\n        super(props)\n    }\n    render(){\n        return(\n            <div>Assessment</div>\n        )\n    }\n}\n","/Users/myoungseokjeong/Desktop/COMP3820-ISBAR/isbar-complex-react/src/app-complex/Introduction.js",["103"],"import React from \"react\";\n\nexport class Introduction extends React.Component {\n\n    constructor(props){\n        super(props)\n    }\n    render(){\n        return(\n            <div>Introduction is changed</div>\n        )\n    }\n}\n","/Users/myoungseokjeong/Desktop/COMP3820-ISBAR/isbar-complex-react/src/app-complex/IsbarContentField.js",["104"],"import React from \"react\";\nimport { Assessment } from \"./Assessment\";\nimport { Background } from \"./Background\";\nimport { Introduction } from \"./Introduction\";\nimport { Recommendation } from \"./Recommendation\";\nimport { Situation } from \"./Situation\";\n\nexport class IsbarContentField extends React.Component {\n\n    constructor(props) {\n        super(props)\n    }\n    render() {\n\n        switch (this.props.current) {\n            case \"I\":\n                return <Introduction />\n            case \"S\":\n                return <Situation />\n            case \"B\":\n                return <Background />\n            case \"A\":\n                return <Assessment />\n            case \"R\":\n                return <Recommendation />\n            default: \n                // fail safe\n                return <Introduction />\n\n\n        }\n    }\n}\n","/Users/myoungseokjeong/Desktop/COMP3820-ISBAR/isbar-complex-react/src/app-complex/Recommendation.js",["105"],"import React from \"react\";\nimport '@shoelace-style/shoelace/dist/themes/light.css';\n\nexport class Recommendation extends React.Component {\n\n    constructor(props) {\n        super(props)\n    }\n    render() {\n        return (\n            <div class=\"container  mx-auto px-10 sm:px-8 max-w-7xl py-10\">\n                <sl-form>\n                    <sl-textarea rows={4}>\n                    </sl-textarea>\n                </sl-form>\n            </div>\n        )\n    }\n}\n","/Users/myoungseokjeong/Desktop/COMP3820-ISBAR/isbar-complex-react/src/app-complex/Situation.js",["106"],"import React from \"react\";\nimport '@shoelace-style/shoelace/dist/themes/light.css';\nimport 'medblocks-ui';\nimport { IsbarClientContext } from \"../IsbarFhirClient\";\nimport Patient from \"./Patient\";\n\n\n\nexport class Situation extends React.Component {\n\n    static contextType = IsbarClientContext;\n    \n\n    constructor(props){\n        super(props)\n        this.state = {\n            // used true if data is loaded\n            loaded: false,\n            error: null,\n            // true if questionnaireResponse exists\n            responseExist: false,\n            patient: null,\n            // questionnaire object that will be stored or created\n            questionnaire: null,\n            // questionnaire response object\n            questionnaireResponse: null,\n            // turns true if it's isobar\n            isIsobar: false,\n            // indicates saved state\n            saveState: \"edited\",\n            // type of current form\n            formState: \"ISOBAR\"\n            // would be good if we have a array of question-answer pair.\n          };            \n        \n    }\n\n   \n\n    \n    componentDidMount() {\n        // load client from the client context\n        const client = this.context.client;\n         \n    }      \n    \n\n\n    \n    \n    render(){\n        return(\n            <div  class=\"container  mx-auto px-10 sm:px-8 max-w-7xl py-10\">\n                <h2 class=\"text-3xl font semi-bold font-sans\">Situation</h2>\n                <Patient />\n                <mb-fhir-form class=\"flex flex-col gap-3 m-5 \" onClick={this.handleSubmit} >               \n                    <mb-context path=\"resourceType\" data=\"Patient\"> </mb-context>\n                    <mb-date class=\"py-10 \" label=\"Date of transfer\"> </mb-date>\n                    <mb-input  path=\"name[0].given\" label=\"Patient Status\" class=\" \"> </mb-input>\n                    <sl-textarea size=\"medium\" resize=\"auto\" label=\"Principal diagnosis/problem\"></sl-textarea>\n                    <sl-textarea size=\"medium\" resize=\"auto\" label=\"Other diagnosis/problem\"></sl-textarea>\n                    <mb-input path=\"name[0].given\" label=\"Reason for transfer\"></mb-input>\n                    <sl-textarea placeholder=\"Test\" resize=\"auto\" label=\"Test\" size=\"large\"></sl-textarea>\n                    \n                    <div class=\"table-container\">\n                        <h3>Observations</h3>\n                        <table>\n                            <tr>\n                                <th>Airway</th>\n                                <th>Breathing</th>\n                                <th>Skin Colour</th>\n                                <th>Mental</th>\n                                <th>Behaviour</th>\n                            </tr>\n                            <tr>\n                                <td><sl-checkbox>Patent</sl-checkbox></td>\n                                <td><sl-checkbox>Unremarkable</sl-checkbox></td>\n                                <td><sl-checkbox>Unremarkable</sl-checkbox></td>\n                                <td><sl-checkbox>Cognitive impairment</sl-checkbox></td>\n                                <td><sl-checkbox>Verbal aggression</sl-checkbox></td>\n                            </tr>\n                            <tr>\n                                <td><sl-checkbox>Compromised</sl-checkbox></td>\n                                <td><sl-checkbox>Shallow</sl-checkbox></td>\n                                <td><sl-checkbox>Pale</sl-checkbox></td>\n                                <td><sl-checkbox>Depression</sl-checkbox></td>\n                                <td><sl-checkbox>Harm to others</sl-checkbox></td>\n                            </tr>\n                            <tr>\n                                <td><sl-checkbox>Ventilated</sl-checkbox></td>\n                                <td><sl-checkbox>Deep</sl-checkbox></td>\n                                <td><sl-checkbox>Flushed</sl-checkbox></td>\n                                <td><sl-checkbox>Dementia</sl-checkbox></td>\n                                <td><sl-checkbox>Harm to self</sl-checkbox></td>\n                            </tr>\n                            <tr>\n                                <td></td>\n                                <td><sl-checkbox>Rapid</sl-checkbox></td>\n                                <td><sl-checkbox>Mottled</sl-checkbox></td>\n                                <td><sl-checkbox>Delirium</sl-checkbox></td>\n                                <td><sl-checkbox>Sleep disturbance</sl-checkbox></td>\n                            </tr> \n                            <tr>\n                                <td></td>\n                                <td><sl-checkbox>Slow</sl-checkbox></td>\n                                <td><sl-checkbox>Cyanotic</sl-checkbox></td>\n                                <td></td>\n                                <td><sl-checkbox>Sleep disturbance</sl-checkbox></td>\n                            </tr> \n                            <tr>\n                                <td></td>\n                                <td><sl-checkbox>Audible Wheeze</sl-checkbox></td>\n                                <td></td>\n                            </tr>                      \n                            \n                        </table>\n                    </div>\n                    <div>\n                        <h3>Vitals</h3>\n                        <table>\n                            <th>Temp</th>\n                            <th>Pulse</th>\n                            <th>Resp Rate</th>\n                            <th>Blood Pressure</th>                            \n                            <tr>\n                                <td><sl-input placeholder=\"Temp celcius \"></sl-input></td>\n                                <td><sl-input placeholder=\"Beats/minuite\"></sl-input></td>\n                                <td><sl-input placeholder=\"Resp Rate \"></sl-input></td>\n                                <td><sl-input placeholder=\"mm Hg \"></sl-input></td>\n                            </tr>\n                            \n                        </table>\n\n                    </div>\n\n                    \n                    <mb-submit>\n                        <sl-button type=\"info\">Submit</sl-button>\n                    </mb-submit>                      \n                    \n                </mb-fhir-form>\n\n                \n\n            </div>\n        )\n    }\n}\n","/Users/myoungseokjeong/Desktop/COMP3820-ISBAR/isbar-complex-react/src/app-simple/QuestionnaireTemplates.js",[],["107","108"],"/Users/myoungseokjeong/Desktop/COMP3820-ISBAR/isbar-complex-react/src/app-complex/Patient.js",[],"/Users/myoungseokjeong/Desktop/COMP3820-ISBAR/isbar-complex-react/src/app-simple/SimplePDF.js",["109"],"import React from \"react\";\nimport { Document, Page, View, Text, StyleSheet, Font } from '@react-pdf/renderer';\n\n// have to include them as a local file. probs.\n// Font.register({\n//     family: 'OpenSans',\n//     src: \"https://fonts.googleapis.com/css2?family=Open+Sans\",\n\n//     fontStyle: 'normal',\n//     fontWeight: 'normal'\n// });\n\n// Font.register({\n//     family: 'Oswald',\n//     src: 'https://fonts.gstatic.com/s/oswald/v13/Y_TKV6o8WovbUd3m_X9aAA.ttf'\n// })\n\n// This is the pdf file that will be generated\n\nconst styles = StyleSheet.create({\n    page: {\n        // fontFamily: 'OpenSans',\n        backgroundColor: '#FFFFFF',\n        margin: 10,\n        padding: 20,\n    },\n    section: {\n        margin: 15\n    },\n    heading: {\n        fontSize: '16pt',\n    }\n});\nexport const SimplePDF = (props) => {\n\n    var content = [\"N/A\", \"N/A\", \"N/A\", \"N/A\", \"N/A\"]\n    props.content.item.forEach((element, index) => {\n        if (typeof element.answer !== 'undefined') {\n\n            content[index] = element.answer[0].valueString\n        }\n    });\n    return (\n        <Document>\n            <Page size=\"A4\" style={styles.page}>\n                <View style={styles.section}>\n                    <Text style={styles.heading}>I: Introduction</Text>\n                    <Text>{content[0]}</Text>\n                </View>\n                <View style={styles.section}>\n                    <Text style={styles.heading}>S: Situation</Text>\n                    <Text>{content[1]}</Text>\n                </View>\n                <View style={styles.section}>\n                    <Text style={styles.heading}>B: Background</Text>\n                    <Text>{content[2]}</Text>\n                </View>\n                <View style={styles.section}>\n                    <Text style={styles.heading}>A: Assessment</Text>\n                    <Text>{content[3]}</Text>\n                </View>\n                <View style={styles.section}>\n                    <Text style={styles.heading}>R: Recommendation</Text>\n                    <Text>{content[4]}</Text>\n                </View>\n            </Page>\n        </Document>\n    )\n}\nexport const IsobarDoc = (props) => {\n\n}\n\n","/Users/myoungseokjeong/Desktop/COMP3820-ISBAR/isbar-complex-react/src/SimpleHistory.js",["110","111","112","113","114","115","116","117"],"import React from \"react\";\nimport { TableBody, TableContainer, Table, TableHead, TableCell, TableRow, Paper } from '@mui/material';\nimport { DataGrid } from '@mui/x-data-grid'\nimport { getSimpleName, getDateTimeString } from \"./common/DisplayHelper\";\nimport { IsbarClientContext } from \"./IsbarFhirClient\";\n\n// this displays the list of previous simple isbar entries\n// takes in the bundle from response\n// displays previous entries in data table of mui\nexport class SimpleHistory extends React.Component {\n\n    static contextType = IsbarClientContext;\n    constructor(props) {\n        super(props)\n        this.state = {\n            fields: [\n                { field: 'lastUpdated', headerName: 'Last Updated', width: 200 },\n                { field: 'author', headerName: 'Author', width: 140 },\n                { field: 'id', headerName: 'ID', width: 210 },\n                { field: 'recipient', headerName: 'Recipient', width: 140 },\n                { field: 'action', headerName: 'Action', width: 70 },\n            ],\n            entries: null\n        }\n    }\n\n    componentDidMount() {\n        // load all the data from prop\n        console.log(\"history\")\n        console.log(this.props.data)\n        if (this.props.data) {\n            this.updateTable()\n        }\n        else {\n            console.error(\"No data given to history!! did the request fail?\")\n        }\n    }\n\n    // manually resolve the recipient..\n    updateTable() {\n        const newContent = []\n        // console.log(this.props.data)\n        if (this.props.data.total != 0) {\n\n            this.props.data.entry.forEach((element) => {\n                // element is each resource in the bundle\n                // console.log(element)\n                const resource = element.resource\n                // default content for the fields.\n                // Also displayed while resolving promises\n                const entry = {\n                    lastUpdated: 'Loading',\n                    id: 'Loading',\n                    author: 'Loading',\n                    recipient: 'Loading'\n                }\n                // set new content??\n                if (resource.meta.hasOwnProperty('lastUpdated')) {\n                    entry.lastUpdated = getDateTimeString(resource.meta.lastUpdated)\n                }\n                if (resource.hasOwnProperty('id')) {\n                    entry.id = resource.id\n                }\n                if (resource.hasOwnProperty('author')) {\n                    entry.author = getSimpleName(resource.author.name[0])\n                }\n                newContent.push(entry)\n            });\n\n            // resolve the recipients of each.\n            // This function was positioned after initialisation of array to enable access\n            this.props.data.entry.forEach((element, index) => {\n                const resource = element.resource\n                if (resource.hasOwnProperty('extension')) {\n                    this.context.client.request(resource.extension[0].valueReference.reference)\n                        .then((res) => {\n                            console.log(newContent[index])\n                            newContent[index].recipient = getSimpleName(res.name[0])\n                            // force component update\n                            this.forceUpdate()\n                        })\n                }\n            })\n        }\n        else {\n            console.log(\"no existing entry\")\n        }\n        this.setState({ entries: newContent })\n    }\n\n    render() {\n        // console.log(this.state.entries)\n        if (this.state.entries != null) {\n\n            return (\n                <div style={{ height: 400, width: '100%' }}>\n\n                    <DataGrid\n                        rows={this.state.entries}\n                        columns={this.state.fields}\n                        pageSize={5}\n                        rowsPerPageOptions={[5]}\n                        checkboxSelection\n                    />\n                </div>\n            )\n        } else {\n            return (\n                <div>\n                    Loading data..\n                </div>\n            )\n        }\n\n\n    }\n}\n\n","/Users/myoungseokjeong/Desktop/COMP3820-ISBAR/isbar-complex-react/src/common/DisplayHelper.js",[],{"ruleId":"118","replacedBy":"119"},{"ruleId":"120","replacedBy":"121"},{"ruleId":"122","severity":1,"message":"123","line":6,"column":10,"nodeType":"124","messageId":"125","endLine":6,"endColumn":33},{"ruleId":"122","severity":1,"message":"126","line":8,"column":22,"nodeType":"124","messageId":"125","endLine":8,"endColumn":31},{"ruleId":"122","severity":1,"message":"127","line":5,"column":10,"nodeType":"124","messageId":"125","endLine":5,"endColumn":16},{"ruleId":"122","severity":1,"message":"127","line":4,"column":10,"nodeType":"124","messageId":"125","endLine":4,"endColumn":16},{"ruleId":"122","severity":1,"message":"128","line":25,"column":15,"nodeType":"124","messageId":"125","endLine":25,"endColumn":21},{"ruleId":"122","severity":1,"message":"127","line":8,"column":10,"nodeType":"124","messageId":"125","endLine":8,"endColumn":16},{"ruleId":"129","severity":1,"message":"130","line":79,"column":3,"nodeType":"131","messageId":"132","endLine":96,"endColumn":4},{"ruleId":"133","severity":1,"message":"134","line":5,"column":5,"nodeType":"131","messageId":"135","endLine":7,"endColumn":6},{"ruleId":"133","severity":1,"message":"134","line":5,"column":5,"nodeType":"131","messageId":"135","endLine":7,"endColumn":6},{"ruleId":"133","severity":1,"message":"134","line":5,"column":5,"nodeType":"131","messageId":"135","endLine":7,"endColumn":6},{"ruleId":"133","severity":1,"message":"134","line":10,"column":5,"nodeType":"131","messageId":"135","endLine":12,"endColumn":6},{"ruleId":"133","severity":1,"message":"134","line":6,"column":5,"nodeType":"131","messageId":"135","endLine":8,"endColumn":6},{"ruleId":"122","severity":1,"message":"128","line":43,"column":15,"nodeType":"124","messageId":"125","endLine":43,"endColumn":21},{"ruleId":"118","replacedBy":"136"},{"ruleId":"120","replacedBy":"137"},{"ruleId":"122","severity":1,"message":"138","line":2,"column":50,"nodeType":"124","messageId":"125","endLine":2,"endColumn":54},{"ruleId":"122","severity":1,"message":"139","line":2,"column":10,"nodeType":"124","messageId":"125","endLine":2,"endColumn":19},{"ruleId":"122","severity":1,"message":"140","line":2,"column":21,"nodeType":"124","messageId":"125","endLine":2,"endColumn":35},{"ruleId":"122","severity":1,"message":"141","line":2,"column":37,"nodeType":"124","messageId":"125","endLine":2,"endColumn":42},{"ruleId":"122","severity":1,"message":"142","line":2,"column":44,"nodeType":"124","messageId":"125","endLine":2,"endColumn":53},{"ruleId":"122","severity":1,"message":"143","line":2,"column":55,"nodeType":"124","messageId":"125","endLine":2,"endColumn":64},{"ruleId":"122","severity":1,"message":"144","line":2,"column":66,"nodeType":"124","messageId":"125","endLine":2,"endColumn":74},{"ruleId":"122","severity":1,"message":"145","line":2,"column":76,"nodeType":"124","messageId":"125","endLine":2,"endColumn":81},{"ruleId":"146","severity":1,"message":"147","line":43,"column":35,"nodeType":"148","messageId":"132","endLine":43,"endColumn":37},"no-native-reassign",["149"],"no-negated-in-lhs",["150"],"no-unused-vars","'IsbarComplexDevelopment' is defined but never used.","Identifier","unusedVar","'Container' is defined but never used.","'client' is defined but never used.","'client' is assigned a value but never used.","no-dupe-class-members","Duplicate name 'updateResponse'.","MethodDefinition","unexpected","no-useless-constructor","Useless constructor.","noUselessConstructor",["149"],["150"],"'Font' is defined but never used.","'TableBody' is defined but never used.","'TableContainer' is defined but never used.","'Table' is defined but never used.","'TableHead' is defined but never used.","'TableCell' is defined but never used.","'TableRow' is defined but never used.","'Paper' is defined but never used.","eqeqeq","Expected '!==' and instead saw '!='.","BinaryExpression","no-global-assign","no-unsafe-negation"]