(this["webpackJsonpisbar-complex-react"]=this["webpackJsonpisbar-complex-react"]||[]).push([[0],{392:function(e,t,n){},448:function(e,t){},450:function(e,t){},491:function(e,t){},492:function(e,t){},587:function(e,t,n){},589:function(e,t,n){"use strict";n.r(t);var a=n(1),i=n.n(a),c=n(111),s=n.n(c),l=(n(392),n(27)),r=n(28),o=n(33),d=n(32),u=n(363),h=n(47),j=n(158),b=n(2),p=function(e){Object(o.a)(n,e);var t=Object(d.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(r.a)(n,[{key:"componentDidMount",value:function(){j.oauth2.authorize({clientId:"my-client-id",scope:"launch openid fhirUser patient/*.read patient/*.write",redirectUri:"./isbar-app",completeInTarget:!0})}},{key:"render",value:function(){return Object(b.jsx)("div",{className:"loading-container",children:"Launching the ISBAR handover form.."})}}]),n}(i.a.Component),x=n(73),O=i.a.createContext({}),m=function(e){Object(o.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).state={client:null,error:null,simpleForms:null,complexForms:null},a}return Object(r.a)(n,[{key:"componentDidMount",value:function(){var e=this;j.oauth2.ready().then((function(t){return e.setState({client:t})}),(function(t){return e.setState({error:t})}))}},{key:"render",value:function(){var e=this;return Object(b.jsx)(O.Provider,{value:this.state||{},children:Object(b.jsx)(O.Consumer,{children:function(t){var n=t.client,a=t.error;return console.log("Client"),console.log(n),a?Object(b.jsx)("pre",{children:a.stack}):n?e.props.children:Object(b.jsx)("div",{className:"loading-container",children:"Launching the ISBAR handover form.."})}})})}}]),n}(i.a.Component),f=n(49),v=f.d.create({page:{backgroundColor:"#FFFFFF",margin:10,padding:20},section:{margin:15},heading:{fontSize:"16pt"}}),g=function(e){var t=["N/A","N/A","N/A","N/A","N/A"];return e.content.item.forEach((function(e,n){"undefined"!==typeof e.answer&&(t[n]=e.answer[0].valueString)})),Object(b.jsx)(f.a,{children:Object(b.jsxs)(f.c,{size:"A4",style:v.page,children:[Object(b.jsxs)(f.f,{style:v.section,children:[Object(b.jsx)(f.e,{style:v.heading,children:"I: Introduction"}),Object(b.jsx)(f.e,{children:t[0]})]}),Object(b.jsxs)(f.f,{style:v.section,children:[Object(b.jsx)(f.e,{style:v.heading,children:"S: Situation"}),Object(b.jsx)(f.e,{children:t[1]})]}),Object(b.jsxs)(f.f,{style:v.section,children:[Object(b.jsx)(f.e,{style:v.heading,children:"B: Background"}),Object(b.jsx)(f.e,{children:t[2]})]}),Object(b.jsxs)(f.f,{style:v.section,children:[Object(b.jsx)(f.e,{style:v.heading,children:"A: Assessment"}),Object(b.jsx)(f.e,{children:t[3]})]}),Object(b.jsxs)(f.f,{style:v.section,children:[Object(b.jsx)(f.e,{style:v.heading,children:"R: Recommendation"}),Object(b.jsx)(f.e,{children:t[4]})]})]})})},y=n(267),S=n(645),w=n(659),k=function(e){Object(o.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).state={value:"",timeout:null,delay:5e3},a.handleChange=a.handleChange.bind(Object(x.a)(a)),a}return Object(r.a)(n,[{key:"componentDidMount",value:function(){this.setState({value:this.props.initialValue})}},{key:"componentWillUnmount",value:function(){clearTimeout(this.state.timeout)}},{key:"handleChange",value:function(e){var t=this;this.setState({value:e.target.value}),clearTimeout(this.state.timeout),this.setState({timeout:setTimeout((function(){t.props.updateField(t.state.value)}),this.state.delay)})}},{key:"render",value:function(){return this.props.visible?Object(b.jsxs)(S.a,{spacing:1,children:[Object(b.jsx)(w.a,{variant:"p",children:this.props.label}),Object(b.jsx)(y.a,{fullWidth:!0,multiline:!0,placeholder:this.props.placeholder,value:this.state.value,onChange:this.handleChange})]}):Object(b.jsxs)(S.a,{spacing:1,sx:{display:"none"},children:[Object(b.jsx)(w.a,{variant:"h5",children:this.props.label}),Object(b.jsx)(y.a,{fullWidth:!0,multiline:!0,placeholder:this.props.placeholder,value:this.state.value,onChange:this.handleChange})]})}}]),n}(i.a.Component),C=n(658),I=n(125),R=n(603),F=n(599),P=n(100),A=n(655),N=function(e){Object(o.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).state={answerSet:[],value:a.props.initialValue,input:"",timeout:null,delay:500},a.handleInputChange=a.handleInputChange.bind(Object(x.a)(a)),a}return Object(r.a)(n,[{key:"componentDidMount",value:function(){this.updatAnswerSet("")}},{key:"componentWillUnmount",value:function(){clearTimeout(this.state.timeout)}},{key:"updatAnswerSet",value:function(e){var t=this,n=this.props.resourceName,a="";e.split(" ").forEach((function(e){a=a+t.props.searchTerm+"="+e+"&"})),this.props.queries&&this.props.queries[0]?(this.props.queries.forEach((function(e,t){n=0===t?n+"?"+e:n+"&"+e})),n=n+"&"+a):n=n+"?"+a,this.context.client.request(n).then((function(e){var n=[];e.total>0&&e.entry.forEach((function(e){n.push({label:t.props.getLabel(e.resource),id:e.resource.id})})),t.setState({answerSet:n})}))}},{key:"handleInputChange",value:function(e,t){var n=this;this.setState({input:t}),clearTimeout(this.state.timeout),this.setState({timeout:setTimeout((function(){n.updatAnswerSet(t)}),this.state.delay)})}},{key:"render",value:function(){var e=this;return Object(b.jsx)(A.a,{disablePortal:!0,autoSelect:!0,value:this.state.value,onChange:function(t,n){e.setState({value:n}),e.props.onSelect(n),console.log(n)},input:this.state.input,onInputChange:function(t,n){return e.handleInputChange(t,n)},id:this.props.id,options:this.state.answerSet,renderInput:function(t){return Object(b.jsx)(y.a,Object(P.a)(Object(P.a)({},t),{},{label:e.props.label,sx:{borderWidth:"0"}}))}})}}]),n}(i.a.Component);function V(e){return e.prefix[0]?e.prefix[0]+" "+e.given[0]+" "+e.family:e.given[0]+" "+e.family}N.contextType=O;var D=n(653),B=function(e){Object(o.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).state={loaded:!1,content:null,isIsobar:!1,published:!1,uploaded:!0,recipient:null},a.updateFieldValue=a.updateFieldValue.bind(Object(x.a)(a)),a.onRecipientSelect=a.onRecipientSelect.bind(Object(x.a)(a)),a.createNewForm=a.createNewForm.bind(Object(x.a)(a)),a}return Object(r.a)(n,[{key:"componentDidMount",value:function(){var e,t,n,a=this;if(console.log(this.props.create),this.props.create){var i=(e=this.props.questionnaireID,t=this.context.client.patient.id,n=this.context.client.user.id,{resourceType:"QuestionnaireResponse",text:{name:"isbar handover form"},questionnaire:"Questionnaire/"+e,status:"in-progress",subject:{reference:"Patient/"+t},author:{reference:"Practitioner/"+n},extension:[{url:"http://hl7.org/fhir/StructureDefinition/questionnaireresponse-reviewer",valueReference:{}}],item:[{linkId:"1",text:"I:Identify"},{linkId:"2",text:"S:Situation"},{linkId:"3",text:"O:Observation"},{linkId:"4",text:"B:Background"},{linkId:"5",text:"A:Assessment"},{linkId:"6",text:"R:Recommendation"}]});this.setState({content:i,loaded:!0})}else this.context.client.request("QuestionnaireResponse/"+this.props.formID).then((function(e){if(console.log(e),a.setState({content:e}),e.item[2].hasOwnProperty("answer")&&a.setState({isIsobar:!0}),e.hasOwnProperty("extension"))return a.context.client.request(e.extension[0].valueReference.reference)})).then((function(e){a.setState({recipient:e,loaded:!0,published:!0})}))}},{key:"createNewForm",value:function(){var e=this;this.state.published||this.context.client.create(this.state.content).then((function(t){e.setState({content:t,published:!0})}))}},{key:"componentDidUpdate",value:function(){this.uploadToServer()}},{key:"uploadToServer",value:function(){var e=this;!this.state.uploaded&&this.state.published&&this.context.client.update(this.state.content).then((function(t){e.setState({uploaded:!0}),console.log(t)}))}},{key:"getFieldValue",value:function(e){return this.state.content.item[e].hasOwnProperty("answer")?this.state.content.item[e].answer[0].valueString:""}},{key:"updateFieldValue",value:function(e,t){var n=this.state.content;n.item[t].hasOwnProperty("answer")?n.item[t].answer[0].valueString=e:n.item[t].answer=[{valueString:e}],this.setState({content:n,uploaded:!1})}},{key:"onRecipientSelect",value:function(e){if(e){var t=this.state.content;t.extension?t.extension[0].hasOwnProperty("valueReference")?t.extension[0].valueReference.reference="Practitioner/"+e.id:t.extension[0].valueReference={reference:"Practitioner/"+e.id}:t.extension=[{url:"http://hl7.org/fhir/StructureDefinition/questionnaireresponse-reviewer",valueReference:{reference:"Practitioner/"+e.id}}],this.setState({content:t,uploaded:!1})}}},{key:"render",value:function(){var e=this;return this.state.loaded?Object(b.jsxs)(S.a,{spacing:2,children:[Object(b.jsxs)(C.a,{container:!0,spacing:3,align:"center",justify:"center",sx:{borderBottomWidth:"1px",borderBottomColor:"text.secondary",borderBottomStyle:"solid",padding:"10px"},children:[Object(b.jsx)(C.a,{item:!0,xs:3,sx:{color:"text.primary"},children:Object(b.jsx)(D.a,{onClick:this.props.goBack,sx:{fontSize:"30px",cursor:"pointer"}})}),Object(b.jsx)(C.a,{item:!0,xs:6,children:Object(b.jsx)(w.a,{variant:"h5",align:"center",children:"Simple ISBAR Form"})}),Object(b.jsx)(C.a,{item:!0,xs:2,children:Object(b.jsx)(R.a,{value:"ISOBAR",control:Object(b.jsx)(F.a,{}),checked:this.state.isIsobar,label:"ISOBAR",labelPlacement:"start",onChange:function(t){return e.setState({isIsobar:t.target.checked})},sx:{alignSelf:"center"}})})]}),Object(b.jsxs)(S.a,{spacing:3,sx:{padding:"3%"},children:[Object(b.jsxs)(C.a,{container:!0,spacing:2,children:[Object(b.jsx)(C.a,{item:!0,xs:8,children:Object(b.jsx)(N,{resourceName:"Practitioner",searchTerm:"name",label:"Recipient",id:"recipientAutocomplete",initialValue:this.state.recipient?{label:V(this.state.recipient.name[0]),id:this.state.recipient.id}:null,queries:[],onSelect:function(t){return e.onRecipientSelect(t)},getLabel:function(e){return V(e.name[0])}})}),Object(b.jsx)(C.a,{item:!0,xs:2,justifySelf:"center",alignSelf:"center",children:Object(b.jsx)(I.a,{size:"large",variant:"outlined",fullWidth:!0,children:Object(b.jsx)(f.b,{document:Object(b.jsx)(g,{content:this.state.content}),fileName:"isbar.pdf",children:function(e){e.blob,e.url;var t=e.loading;e.error;return t?"Preparing":"Print"}})})}),Object(b.jsx)(C.a,{item:!0,xs:2,justifySelf:"center",alignSelf:"center",children:Object(b.jsx)(I.a,{size:"large",variant:"outlined",fullWidth:!0,disabled:this.state.published,onClick:this.createNewForm,children:" Publish"})})]}),Object(b.jsx)(k,{initialValue:this.getFieldValue(0),placeholder:"Introduction",label:"Introduction",visible:!0,updateField:function(t){return e.updateFieldValue(t,0)}}),Object(b.jsx)(k,{initialValue:this.getFieldValue(1),placeholder:"Situation",label:"Situation",visible:!0,updateField:function(t){return e.updateFieldValue(t,1)}}),Object(b.jsx)(k,{initialValue:this.getFieldValue(2),placeholder:"Observation",label:"Observation",visible:this.state.isIsobar,updateField:function(t){return e.updateFieldValue(t,2)}}),Object(b.jsx)(k,{initialValue:this.getFieldValue(3),placeholder:"Background",label:"Background",visible:!0,updateField:function(t){return e.updateFieldValue(t,3)}}),Object(b.jsx)(k,{initialValue:this.getFieldValue(4),placeholder:"Assessment",label:"Assessment",visible:!0,updateField:function(t){return e.updateFieldValue(t,4)}}),Object(b.jsx)(k,{initialValue:this.getFieldValue(5),placeholder:"Recommendation",label:"Recommendation",visible:!0,updateField:function(t){return e.updateFieldValue(t,5)}})]})]}):Object(b.jsx)("div",{className:"loading-container",children:"Loading ISBAR form"})}}]),n}(i.a.Component);B.contextType=O;var T=n(662),M=n(661),q=n(654),W=n(373),L=n(7),U=(Object(L.a)(W.a)((function(e){var t=e.theme;return Object(P.a)(Object(P.a)({},t.typography.body2),{},{padding:t.spacing(5),textAlign:"center",color:t.palette.text.secondary})})),function(e){Object(o.a)(n,e);var t=Object(d.a)(n);function n(e){return Object(l.a)(this,n),t.call(this,e)}return Object(r.a)(n,[{key:"render",value:function(){return Object(b.jsxs)(i.a.Fragment,{children:[Object(b.jsx)(q.a,{}),Object(b.jsxs)(M.a,{fixed:!0,children:[Object(b.jsx)(T.a,{sx:{height:"5vh"}}),Object(b.jsxs)(T.a,{component:"form",sx:{"& > :not(style)":{m:1,width:"136ch"}},noValidate:!0,autoComplete:"off",children:[Object(b.jsx)("h1",{children:Object(b.jsx)("p",{children:"Assessment"})}),Object(b.jsx)("div",{children:Object(b.jsx)("h3",{children:"Latest clinical assessment:"})}),Object(b.jsx)(y.a,{fullwidth:!0,"aria-label":"minimum height",minRows:4,multiline:!0,placeholder:"Latest clinical assessment",spacing:2,id:"outlined-search",type:"search"}),Object(b.jsxs)("div",{children:[Object(b.jsx)("h3",{children:"Vital Signs:"}),Object(b.jsx)("div",{style:{height:80,width:"100%"},children:Object(b.jsxs)(S.a,{direction:"row",spacing:2,children:[Object(b.jsx)("h3",{children:"Resp rate"}),Object(b.jsx)(y.a,{fullwidth:!0,multiline:!0,placeholder:"",spacing:2,id:"outlined-search",type:"search",style:{width:300}}),Object(b.jsx)("h3",{children:"Temp."}),Object(b.jsx)(y.a,{fullwidth:!0,multiline:!0,placeholder:"",id:"outlined-search",type:"search",style:{width:300}})]})}),Object(b.jsx)("div",{style:{height:80,width:"100%"},children:Object(b.jsxs)(S.a,{direction:"row",spacing:2,children:[Object(b.jsx)("h3",{children:"Pain Score"}),Object(b.jsx)(y.a,{fullwidth:!0,multiline:!0,placeholder:"",id:"outlined-search",type:"search",style:{width:300}}),Object(b.jsx)("h3",{children:"Pulse"}),Object(b.jsx)(y.a,{fullwidth:!0,multiline:!0,placeholder:"",id:"outlined-search",type:"search",style:{width:300}})]})}),Object(b.jsx)("div",{style:{height:80,width:"100%"},children:Object(b.jsxs)(S.a,{direction:"row",spacing:2,children:[Object(b.jsx)("h3",{children:"O2 rate/device"}),Object(b.jsx)(y.a,{fullwidth:!0,multiline:!0,placeholder:"",id:"outlined-search",type:"search",style:{width:300}}),Object(b.jsx)("h3",{children:"B.P."}),Object(b.jsx)(y.a,{fullwidth:!0,multiline:!0,placeholder:"",id:"outlined-search",type:"search",style:{width:300}})]})}),Object(b.jsx)("div",{style:{height:80,width:"100%"},children:Object(b.jsxs)(S.a,{direction:"row",spacing:2,children:[Object(b.jsx)("h3",{children:"Urine output "}),Object(b.jsx)(y.a,{fullwidth:!0,multiline:!0,placeholder:"",id:"outlined-search",type:"search",style:{width:300}}),Object(b.jsx)("h3",{children:"SpO2"}),Object(b.jsx)(y.a,{fullwidth:!0,multiline:!0,placeholder:"",id:"outlined-search",type:"search",style:{width:300}})]})}),Object(b.jsx)("div",{style:{height:80,width:"100%"},children:Object(b.jsxs)(S.a,{direction:"row",spacing:2,children:[Object(b.jsx)("h3",{children:"Patient anxiety "}),Object(b.jsx)(y.a,{fullwidth:!0,multiline:!0,placeholder:" ",id:"outlined-search",type:"search",style:{width:300}}),Object(b.jsx)("h3",{children:"Hb"}),Object(b.jsx)(y.a,{fullwidth:!0,multiline:!0,placeholder:"",id:"outlined-search",type:"search",style:{width:300}})]})})]})]})]})]})}}]),n}(i.a.Component)),E=n(372),z=n(663),Q=n(171),H=n(649),J=function(e){Object(o.a)(n,e);var t=Object(d.a)(n);function n(e){return Object(l.a)(this,n),t.call(this,e)}return Object(r.a)(n,[{key:"render",value:function(){return Object(b.jsxs)(Q.a,{Component:"fieldset",children:[Object(b.jsx)("h3",{children:"Alerts"}),Object(b.jsxs)(z.a,{"aria-label":"position",row:4,children:[Object(b.jsx)(R.a,{value:"Forensic",control:Object(b.jsx)(E.a,{}),label:"Forensic",labelPlacement:"start"}),Object(b.jsx)(T.a,{component:"form",sx:{"& > :not(style)":{m:1,width:"34ch"}},noValidate:!0,autoComplete:"off",children:Object(b.jsx)(y.a,{id:"detial-basic",label:"detial",variant:"outlined"})}),Object(b.jsx)(R.a,{value:"Microbiological",control:Object(b.jsx)(E.a,{}),label:"Microbiological",labelPlacement:"start"}),Object(b.jsx)(T.a,{component:"form",sx:{"& > :not(style)":{m:1,width:"28ch"}},noValidate:!0,autoComplete:"off",children:Object(b.jsx)(y.a,{id:"detial-basic",label:"detial",variant:"outlined"})})]}),Object(b.jsxs)(z.a,{"aria-label":"position",row:!0,children:[Object(b.jsx)(R.a,{value:"Bariatric Patient",control:Object(b.jsx)(E.a,{}),label:"Bariatric Patient",labelPlacement:"start"}),Object(b.jsx)(T.a,{component:"form",sx:{"& > :not(style)":{m:1,width:"29ch"}},noValidate:!0,autoComplete:"off",children:Object(b.jsx)(y.a,{id:"detial-basic",label:"detial",variant:"outlined"})}),Object(b.jsx)(R.a,{value:"Falls Risk",control:Object(b.jsx)(E.a,{}),label:"Falls Risk",labelPlacement:"start"}),Object(b.jsx)(T.a,{component:"form",sx:{"& > :not(style)":{m:1,width:"32ch"}},noValidate:!0,autoComplete:"off",children:Object(b.jsx)(y.a,{id:"detial-basic",label:"detial",variant:"outlined"})})]}),Object(b.jsxs)(z.a,{"aria-label":"position",row:!0,children:[Object(b.jsx)(R.a,{value:"Infectious Risk",control:Object(b.jsx)(E.a,{}),label:"Infectious Risk",labelPlacement:"start"}),Object(b.jsx)(T.a,{component:"form",sx:{"& > :not(style)":{m:1,width:"30ch"}},noValidate:!0,autoComplete:"off",children:Object(b.jsx)(y.a,{id:"detial-basic",label:"detial",variant:"outlined"})}),Object(b.jsx)(R.a,{value:"Pressure Ulcer Risk",control:Object(b.jsx)(E.a,{}),label:"Pressure Ulcer Risk",labelPlacement:"start"}),Object(b.jsx)(T.a,{component:"form",sx:{"& > :not(style)":{m:1,width:"25ch"}},noValidate:!0,autoComplete:"off",children:Object(b.jsx)(y.a,{id:"detial-basic",label:"detial",variant:"outlined"})})]}),Object(b.jsxs)(z.a,{"aria-label":"position",row:!0,children:[Object(b.jsx)(R.a,{value:"Smoker",control:Object(b.jsx)(E.a,{}),label:"Smoker",labelPlacement:"start"}),Object(b.jsx)(T.a,{component:"form",sx:{"& > :not(style)":{m:1,width:"35ch"}},noValidate:!0,autoComplete:"off",children:Object(b.jsx)(y.a,{id:"detial-basic",label:"detial",variant:"outlined"})})]}),Object(b.jsx)(H.a,{component:"legend",children:"Mental Health Act:"}),Object(b.jsxs)(z.a,{"aria-label":"position",row:!0,children:[Object(b.jsx)(R.a,{value:"Voluntary",control:Object(b.jsx)(E.a,{}),label:"Voluntary",labelPlacement:"start"}),Object(b.jsx)(T.a,{component:"form",sx:{"& > :not(style)":{m:1,width:"34ch"}},noValidate:!0,autoComplete:"off",children:Object(b.jsx)(y.a,{id:"detial-basic",label:"detial",variant:"outlined"})}),Object(b.jsx)(R.a,{value:"Involuntary",control:Object(b.jsx)(E.a,{}),label:"Involuntary",labelPlacement:"start"}),Object(b.jsx)(T.a,{component:"form",sx:{"& > :not(style)":{m:1,width:"31ch"}},noValidate:!0,autoComplete:"off",children:Object(b.jsx)(y.a,{id:"detial-basic",label:"detial",variant:"outlined"})})]}),Object(b.jsxs)(z.a,{"aria-label":"position",row:!0,children:[Object(b.jsx)(R.a,{value:"Risk Assessment",control:Object(b.jsx)(E.a,{}),label:"Risk Assessment",labelPlacement:"start"}),Object(b.jsx)(T.a,{component:"form",sx:{"& > :not(style)":{m:1,width:"28ch"}},noValidate:!0,autoComplete:"off",children:Object(b.jsx)(y.a,{id:"detial-basic",label:"detial",variant:"outlined"})})]}),Object(b.jsx)(H.a,{component:"legend",children:"Drug Allergy"}),Object(b.jsxs)(z.a,{"aria-label":"position",row:!0,children:[Object(b.jsx)(R.a,{value:"State Drug/Reaction",control:Object(b.jsx)(E.a,{}),label:"State Drug/Reaction",labelPlacement:"start"}),Object(b.jsx)(T.a,{component:"form",sx:{"& > :not(style)":{m:1,width:"26ch"}},noValidate:!0,autoComplete:"off",children:Object(b.jsx)(y.a,{id:"detial-basic",label:"detial",variant:"outlined"})})]}),Object(b.jsxs)(z.a,{"aria-label":"position",row:!0,children:[Object(b.jsx)(R.a,{value:"Other",control:Object(b.jsx)(E.a,{}),label:"Other",labelPlacement:"start"}),Object(b.jsx)(T.a,{component:"form",sx:{"& > :not(style)":{m:1,width:"37ch"}},noValidate:!0,autoComplete:"off",children:Object(b.jsx)(y.a,{id:"detial-basic",label:"detial",variant:"outlined"})})]}),Object(b.jsx)("h3",{children:"Current Episode Medications:"}),Object(b.jsx)(T.a,{component:"form",sx:{"& > :not(style)":{m:.1,width:"90ch"}},noValidate:!0,autoComplete:"off",children:Object(b.jsx)(y.a,{id:"detial-basic",label:"detial",variant:"outlined"})}),Object(b.jsx)("h3",{children:"Investigations:"}),Object(b.jsx)(T.a,{component:"form",sx:{"& > :not(style)":{m:.1,width:"90ch"}},noValidate:!0,autoComplete:"off",children:Object(b.jsx)(y.a,{id:"detial-basic",label:"detial",variant:"outlined"})}),Object(b.jsx)("h3",{children:"Specialty-Specific Information:"}),Object(b.jsx)(T.a,{component:"form",sx:{"& > :not(style)":{m:.1,width:"90ch"}},noValidate:!0,autoComplete:"off",children:Object(b.jsx)(y.a,{id:"detial-basic",label:"detial",variant:"outlined"})})]})}}]),n}(i.a.Component),Y=function(e){Object(o.a)(n,e);var t=Object(d.a)(n);function n(e){return Object(l.a)(this,n),t.call(this,e)}return Object(r.a)(n,[{key:"render",value:function(){return Object(b.jsx)("div",{className:"container",children:"Introduction "})}}]),n}(i.a.Component),G=function(e){Object(o.a)(n,e);var t=Object(d.a)(n);function n(e){return Object(l.a)(this,n),t.call(this,e)}return Object(r.a)(n,[{key:"render",value:function(){return Object(b.jsx)("div",{class:"container  mx-auto px-10 sm:px-8 max-w-7xl py-10",children:Object(b.jsx)("sl-form",{children:Object(b.jsx)("sl-textarea",{rows:4})})})}}]),n}(i.a.Component),K=n(4),X=n(12),Z=n(270),$=n(79),_=n(207);function ee(){var e=i.a.useState({impairment:!1,jason:!1,antoine:!1,aggression:!1,others:!1,resistive:!1,dementia:!1,depression:!1,self:!1,noissues:!1,faecalcontinence:!1,urinarycontinence:!1}),t=Object(X.a)(e,2),n=t[0],a=t[1],c=function(e){a(Object(P.a)(Object(P.a)({},n),{},Object(K.a)({},e.target.name,e.target.checked)))},s=n.impairment,l=n.aggression,r=n.others,o=n.resistive,d=n.dementia,u=n.depression,h=n.self,j=n.noissues,p=n.faecalcontinence,x=n.urinarycontinence;return Object(b.jsxs)(T.a,{sx:{display:"flex"},children:[Object(b.jsxs)(Q.a,{sx:{m:3},component:"fieldset",variant:"standard",children:[Object(b.jsx)(H.a,{component:"legend",children:Object(b.jsx)("h5",{children:"Mental Behaviour"})}),Object(b.jsxs)(z.a,{children:[Object(b.jsx)(R.a,{control:Object(b.jsx)(E.a,{checked:s,onChange:c,name:"impairment"}),label:"Cognitive impairment"}),Object(b.jsx)(R.a,{control:Object(b.jsx)(E.a,{checked:l,onChange:c,name:"aggression"}),label:"Verbal Aggression"}),Object(b.jsx)(R.a,{control:Object(b.jsx)(E.a,{checked:d,onChange:c,name:"dementia"}),label:"Dementia"}),Object(b.jsx)(R.a,{control:Object(b.jsx)(E.a,{checked:u,onChange:c,name:"depression"}),label:"Depression"}),Object(b.jsx)(R.a,{control:Object(b.jsx)(E.a,{checked:o,onChange:c,name:"resistive"}),label:"Resistive to care"})]})]}),Object(b.jsxs)(Q.a,{component:"fieldset",sx:{m:3},variant:"standard",children:[Object(b.jsx)(H.a,{component:"legend",children:Object(b.jsx)("h5",{children:"Mental Behaviour"})}),Object(b.jsxs)(z.a,{children:[Object(b.jsx)(R.a,{control:Object(b.jsx)(E.a,{checked:h,onChange:c,name:"self"}),label:"Harm to self"}),Object(b.jsx)(R.a,{control:Object(b.jsx)(E.a,{checked:r,onChange:c,name:"others"}),label:"Harm to others"})]})]}),Object(b.jsxs)(Q.a,{component:"fieldset",sx:{m:3},variant:"standard",children:[Object(b.jsx)(H.a,{component:"legend",children:Object(b.jsx)("h5",{children:"Continence"})}),Object(b.jsxs)(z.a,{children:[Object(b.jsx)(R.a,{control:Object(b.jsx)(E.a,{checked:j,onChange:c,name:"noissues"}),label:"No Issues"}),Object(b.jsx)(R.a,{control:Object(b.jsx)(E.a,{checked:p,onChange:c,name:"faecalcontinence"}),label:"Faecal continence"}),Object(b.jsx)(R.a,{control:Object(b.jsx)(E.a,{checked:x,onChange:c,name:"urinarycontinence"}),label:"Urinary continence"})]})]})]})}function te(){var e=i.a.useState(""),t=Object(X.a)(e,2),n=t[0],a=t[1];return Object(b.jsx)(T.a,{sx:{minWidth:120},children:Object(b.jsxs)(Q.a,{fullWidth:!0,children:[Object(b.jsx)(Z.a,{id:"airwaySelect",children:"Airway"}),Object(b.jsxs)(_.a,{labelId:"Airway",id:"airwaySelect",value:n,label:"Options",onChange:function(e){a(e.target.value)},children:[Object(b.jsx)($.a,{value:10,children:"Patent"}),Object(b.jsx)($.a,{value:20,children:"Compromised"}),Object(b.jsx)($.a,{value:30,children:"Ventilated"})]})]})})}function ne(){var e=i.a.useState(""),t=Object(X.a)(e,2),n=t[0],a=t[1];return Object(b.jsx)(T.a,{sx:{minWidth:120},children:Object(b.jsxs)(Q.a,{fullWidth:!0,children:[Object(b.jsx)(Z.a,{id:"breathingSelect",children:"Breathing"}),Object(b.jsxs)(_.a,{labelId:"Breathing",id:"breathingSelect",value:n,label:"Options",onChange:function(e){a(e.target.value)},children:[Object(b.jsx)($.a,{value:10,children:"Unremarkable"}),Object(b.jsx)($.a,{value:20,children:"Shallow"}),Object(b.jsx)($.a,{value:30,children:"Deep"}),Object(b.jsx)($.a,{value:40,children:"Rapid"}),Object(b.jsx)($.a,{value:50,children:"Slow"}),Object(b.jsx)($.a,{value:60,children:"Laboured"}),Object(b.jsx)($.a,{value:70,children:"Audible wheeze"})]})]})})}function ae(){var e=i.a.useState(""),t=Object(X.a)(e,2),n=t[0],a=t[1];return Object(b.jsx)(T.a,{sx:{minWidth:120},children:Object(b.jsxs)(Q.a,{fullWidth:!0,children:[Object(b.jsx)(Z.a,{id:"pulseSelect",children:"Pulse"}),Object(b.jsxs)(_.a,{labelId:"Pulse",id:"pulseSelect",value:n,label:"Options",onChange:function(e){a(e.target.value)},children:[Object(b.jsx)($.a,{value:10,children:"Unremarkable"}),Object(b.jsx)($.a,{value:20,children:"Regular"}),Object(b.jsx)($.a,{value:30,children:"Slow"}),Object(b.jsx)($.a,{value:40,children:"Strong"}),Object(b.jsx)($.a,{value:50,children:"Weak"}),Object(b.jsx)($.a,{value:60,children:"Rapid"})]})]})})}var ie=function(e){Object(o.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).state={loaded:!1,error:null,responseExist:!1,patient:null,questionnaire:null,questionnaireResponse:null,isIsobar:!1,saveState:"edited",formState:"ISOBAR"},a}return Object(r.a)(n,[{key:"componentDidMount",value:function(){this.context.client}},{key:"render",value:function(){return Object(b.jsxs)("div",{className:"container  ",children:[Object(b.jsx)("h3",{children:"Patient Status"}),Object(b.jsx)(y.a,{fullWidth:!0,multiline:!0,placeholder:"Patient Status"}),Object(b.jsx)("h3",{children:"Principle Diagnosis"}),Object(b.jsx)(y.a,{fullWidth:!0,multiline:!0,placeholder:"Principle Diagnosis"}),Object(b.jsx)("h3",{children:"Other Diagnosis/problems"}),Object(b.jsx)(y.a,{fullWidth:!0,multiline:!0,placeholder:"Other Diagnosis/problems"}),Object(b.jsx)("h3",{children:"Reason For transfer"}),Object(b.jsx)(y.a,{fullWidth:!0,multiline:!0,placeholder:"Reason For transfer"}),Object(b.jsx)("h3",{children:"Observations"}),Object(b.jsx)("h5",{children:"Airway"}),Object(b.jsx)(te,{}),Object(b.jsx)("h5",{children:"Breathing"}),Object(b.jsx)(ne,{}),Object(b.jsx)("h5",{children:"Pulse"}),Object(b.jsx)(ae,{}),Object(b.jsx)(ee,{})]})}}]),n}(i.a.Component);ie.contextType=O;var ce=function(e){Object(o.a)(n,e);var t=Object(d.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(r.a)(n,[{key:"render",value:function(){return Object(b.jsx)("div",{className:"app-complex",children:Object(b.jsxs)("div",{className:"container",children:[Object(b.jsx)("h2",{className:"section-title",children:"Introduction"}),Object(b.jsx)(Y,{}),Object(b.jsx)("h2",{className:"section-title",children:"Situation"}),Object(b.jsx)(ie,{}),Object(b.jsx)("h2",{className:"section-title",children:"Background"}),Object(b.jsx)(J,{}),Object(b.jsx)("h2",{className:"section-title",children:"Assessment"}),Object(b.jsx)(U,{}),Object(b.jsx)("h2",{className:"section-title",children:"Recommendation"}),Object(b.jsx)(G,{})]})})}}]),n}(i.a.Component),se=function(e){Object(o.a)(n,e);var t=Object(d.a)(n);function n(e){return Object(l.a)(this,n),t.call(this,e)}return Object(r.a)(n,[{key:"render",value:function(){switch(this.props.current){case"I":return Object(b.jsx)(Y,{});case"S":return Object(b.jsx)(ie,{});case"B":return Object(b.jsx)(J,{});case"A":return Object(b.jsx)(U,{});case"R":return Object(b.jsx)(G,{});default:return Object(b.jsx)(Y,{})}}}]),n}(i.a.Component);(function(e){Object(o.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).state={current:"I",loaded:!1,carePlan:null},a}return Object(r.a)(n,[{key:"componentDidMount",value:function(){var e=this;this.context.client;this.LoadCarePlan().then((function(t){console.log(t),e.setState({loaded:!0})}))}},{key:"LoadCarePlan",value:function(){return this.context.client.request("CarePlan?patient="+this.context.client.patient.id).then((function(e){}))}},{key:"render",value:function(){var e=this;return this.state.loaded?Object(b.jsxs)("div",{className:"app-complex",children:[Object(b.jsx)("div",{className:"app-content",children:Object(b.jsx)(se,{current:this.state.current})}),Object(b.jsxs)("div",{className:"footer",children:[Object(b.jsx)("div",{className:"arrow",children:"\u2190"}),Object(b.jsx)("button",{className:"nav-button",onClick:function(){return e.setState({current:"I"})},children:"I"}),Object(b.jsx)("button",{className:"nav-button",onClick:function(){return e.setState({current:"S"})},children:"S"}),Object(b.jsx)("button",{className:"nav-button",onClick:function(){return e.setState({current:"B"})},children:"B"}),Object(b.jsx)("button",{className:"nav-button",onClick:function(){return e.setState({current:"A"})},children:"A"}),Object(b.jsx)("button",{className:"nav-button",onClick:function(){return e.setState({current:"R"})},children:"R"}),Object(b.jsx)("div",{className:"arrow",children:"\u2192"})]})]}):Object(b.jsx)("div",{children:"Loading complex isbar form..."})}}]),n}(i.a.Component)).contextType=O;var le=n(657),re=n(664),oe=n(665),de=n(362),ue=n.n(de),he=n(361),je=function(e){Object(o.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).state={fields:[{field:"lastUpdated",headerName:"Last Updated",description:"Time last updated",flex:2},{field:"id",headerName:"ID",description:"Form ID",flex:2},{field:"author",headerName:"Author",description:"Author of the form",flex:3},{field:"recipient",headerName:"Recipient",description:"Receiving party of the form",flex:3},{field:"action",headerName:"Action",description:"Actions allowed on the form",cellClassName:"simple-table--cell",align:"center",headerAlign:"center",width:100}],entries:null},a}return Object(r.a)(n,[{key:"componentDidMount",value:function(){console.log("history"),console.log(this.props.data),this.props.data?this.updateTable():console.error("No data given to history!! did the request fail?")}},{key:"updateTable",value:function(){var e=this,t=[];0!=this.props.data.total?(this.props.data.entry.forEach((function(e){var n=e.resource,a={lastUpdated:"Loading",id:"Loading",author:"Loading",recipient:"Loading",action:null};n.meta.hasOwnProperty("lastUpdated")&&(a.lastUpdated=function(e){var t=new Date(e);return t.getFullYear()+"-"+t.getMonth()+"-"+t.getDate()+" "+t.getHours()+":"+t.getMinutes()}(n.meta.lastUpdated)),n.hasOwnProperty("id")&&(a.id=n.id),n.hasOwnProperty("author")&&(a.author=V(n.author.name[0])),a.action="EDIT",t.push(a)})),this.props.data.entry.forEach((function(n,a){var i=n.resource;i.hasOwnProperty("extension")&&e.context.client.request(i.extension[0].valueReference.reference).then((function(n){t[a].recipient=V(n.name[0]),e.forceUpdate()}))}))):console.log("no existing entry"),this.setState({entries:t})}},{key:"handleCellClick",value:function(e){"action"===e.colDef.field&&this.props.editForm(e.id)}},{key:"render",value:function(){var e=this;return null!=this.state.entries?Object(b.jsx)("div",{style:{height:400,width:"100%"},children:Object(b.jsx)(he.a,{rows:this.state.entries,columns:this.state.fields,pageSize:5,rowsPerPageOptions:[5],disableColumnMenu:!0,disableSelectionOnClick:!0,onCellClick:function(t){"action"===t.colDef.field&&e.props.editForm(t.id)}})}):Object(b.jsx)("div",{children:"Loading data.."})}}]),n}(i.a.Component);je.contextType=O;var be=function(e){Object(o.a)(n,e);var t=Object(d.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(r.a)(n,[{key:"render",value:function(){return Object(b.jsx)(m,{children:Object(b.jsx)(pe,{})})}}]),n}(i.a.Component),pe=function(e){Object(o.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).state={loaded:!1,isMenu:!0,isSimple:!0,questionnaireID:null,simpleResponses:null,createNew:!1,simpleFormID:null},a.editSimpleForm=a.editSimpleForm.bind(Object(x.a)(a)),a}return Object(r.a)(n,[{key:"componentDidMount",value:function(){var e=this,t=this.loadQuestionnaireID().then((function(t){return e.loadSimpleIsbars(t)})).then((function(){return e.setState({loaded:!0})}));Promise.all([t]).then((function(){return console.log("all loaded")}))}},{key:"backToMenu",value:function(){var e=this;this.setState({isMenu:!0,loaded:!1}),this.loadSimpleIsbars(this.state.questionnaireID).then((function(){return e.setState({loaded:!0})}))}},{key:"loadQuestionnaireID",value:function(){var e=this;return this.context.client.request("Questionnaire?name="+xe.name).then((function(t){return 0===t.total?e.context.client.create(xe):t.entry[0].resource})).then((function(t){return e.setState({questionnaireID:t.id}),t.id})).catch(console.error)}},{key:"loadSimpleIsbars",value:function(e){var t=this;return this.context.client.request("QuestionnaireResponse?questionnaire="+e+"&patient=Patient/"+this.context.client.patient.id,{resolveReferences:["author"]}).then((function(e){return t.setState({simpleResponses:e}),e})).catch(console.error)}},{key:"editSimpleForm",value:function(e){var t=this.state.simpleResponses.entry.filter((function(t){return t.resource.id===e}));console.log(t),console.log(t[0].resource.id),this.setState({simpleFormID:t[0].resource.id,isMenu:!1,isSimple:!0,createNew:!1})}},{key:"render",value:function(){var e=this;return this.state.loaded&&this.state.isMenu?Object(b.jsxs)("div",{children:[Object(b.jsxs)(T.a,{sx:{padding:"3%"},children:[Object(b.jsx)(w.a,{sx:{width:"100%",textAlign:"center",fontSize:"30px"},children:"ISBAR Handover Form"}),Object(b.jsx)(S.a,{spacing:2,sx:{},children:Object(b.jsxs)(le.a,{defaultExpanded:!1,children:[Object(b.jsxs)(re.a,{expandIcon:Object(b.jsx)(ue.a,{}),"aria-controls":"panel1bh-content",id:"panel1bh-header",children:[Object(b.jsx)(w.a,{sx:{width:"70%",flexShrink:0},children:"Simple ISBAR handover forms"}),Object(b.jsx)(I.a,{onClick:function(){return e.setState({createNew:!0,isMenu:!1,isSimple:!0})},children:"Create new"})]}),Object(b.jsx)(oe.a,{children:Object(b.jsx)(je,{data:this.state.simpleResponses,editForm:function(t){return e.editSimpleForm(t)}})})]})})]}),Object(b.jsx)("button",{className:"main-menu-button",onClick:function(){return e.setState({isSimple:!1,isMenu:!1})},children:"Complex ISBAR"})]}):this.state.loaded&&this.state.isSimple?Object(b.jsx)(B,{goBack:this.backToMenu.bind(this),formID:this.state.simpleFormID,create:this.state.createNew,questionnaireID:this.state.questionnaireID}):this.state.loaded&&!this.state.isSimple?Object(b.jsx)(ce,{}):Object(b.jsx)("div",{children:"Loading"})}}]),n}(i.a.Component);pe.contextType=O;var xe={resourceType:"Questionnaire",title:"questionnaireTitle",name:"isbar-simple",status:"active",item:[{linkid:"1",text:"I:Identify",type:"text"},{linkid:"2",text:"S:Situation",type:"text"},{linkid:"3",text:"O:Observation",type:"text"},{linkid:"4",text:"B:Background",type:"text"},{linkid:"5",text:"A:Assessment",type:"text"},{linkid:"6",text:"R:Recommendation",type:"text"}]},Oe=(n(587),function(e){Object(o.a)(n,e);var t=Object(d.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(r.a)(n,[{key:"render",value:function(){return Object(b.jsx)(u.a,{children:Object(b.jsxs)(h.c,{children:[Object(b.jsx)(h.a,{path:"/isbar-app",component:be,exact:!0}),Object(b.jsx)(h.a,{path:"/",component:p,exact:!0})]})})}}]),n}(i.a.Component));s.a.render(Object(b.jsx)(Oe,{}),document.getElementById("root"))}},[[589,1,2]]]);
//# sourceMappingURL=main.b76d138e.chunk.js.map